(this.webpackJsonpavatar_republic_citizen=this.webpackJsonpavatar_republic_citizen||[]).push([[0],{100:function(e,t,a){e.exports=a(138)},105:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),o=a.n(i),c=(a(105),a(43)),l=a.n(c),s=a(62),u=a(31),d=a(32),p=a(38),m=a(36),v=a(85),h=a(176),f=a(179),g=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={title:""},e.onSubmit=function(t){t.preventDefault(),e.props.giveId(e.state.title)},e.onChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:this.onSubmit,style:b},r.a.createElement(h.a,{id:"inputField",name:"title",label:"Masukkan id citizen..",fullWidth:!0,variant:"outlined",value:this.state.title,onChange:this.onChange}),r.a.createElement(f.a,{variant:"contained",color:"primary",type:"submit"},"Search")))}}]),a}(n.Component),b={padding:"10px"},E=g,k=a(173);var y={background:"#333",color:"#fff",textAlign:"center",padding:"10px"},w=function(){return r.a.createElement("header",{style:y},r.a.createElement(k.a,{component:"h1",variant:"button"},"Avatar Suspect Expander"))},S=a(4),x=a(178),I=a(86),O=a(172),N=a(175),j=a(180),C={node:{size:300},link:{highlightColor:"lightblue"},minZoom:1,maxZoom:1,height:400,d3:{linkLength:100}},L=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={hoverOn:null,showList:null},e.onClickNode=function(t){e.props.giveId(t)},e.onMouseOverNode=function(t){e.setState({hoverOn:e.props.personalInfo[t]}),e.setState({showList:t})},e}return Object(d.a)(a,[{key:"renderIdentity",value:function(e){var t=this.props.classes;return e?r.a.createElement(O.a,{className:t.paper},r.a.createElement(N.a,{container:!0,wrap:"nowrap",spacing:2},r.a.createElement(N.a,{item:!0},r.a.createElement(j.a,null)),r.a.createElement(N.a,{item:!0,xs:!0},r.a.createElement(k.a,{component:"subtitle2",variant:"button"},"ID: ",e.id,r.a.createElement("br",null),"NAME: ",e.name,r.a.createElement("br",null),"ELEMENT: ",e.element,r.a.createElement("br",null))))):r.a.createElement(O.a,{className:t.paper},r.a.createElement(N.a,{container:!0,wrap:"nowrap",spacing:2},r.a.createElement(N.a,{item:!0},r.a.createElement(j.a,null)),r.a.createElement(N.a,{item:!0,xs:!0},r.a.createElement(k.a,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))))}},{key:"render",value:function(){return 0===this.props.data.nodes.length?r.a.createElement("div",null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"100%",alignContent:"center"}},r.a.createElement(x.a,{p:1,alignContent:"center"},r.a.createElement(x.a,{display:"flex",flexDirection:"column",p:1,m:1,bgcolor:"background.paper"},r.a.createElement(x.a,{p:1},this.renderIdentity(this.state.hoverOn)),r.a.createElement(x.a,{p:1},r.a.createElement(k.a,{variant:"body2",color:"textSecondary",align:"left"},"tips: click node to expand")),r.a.createElement(x.a,{p:1,bgcolor:"grey.100"},r.a.createElement(I.Graph,{id:"graph-id",data:this.props.data,config:C,onClickNode:this.onClickNode,onMouseOverNode:this.onMouseOverNode}))))))}}]),a}(n.Component),M=Object(S.a)((function(e){return{paper:{margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(2)}}}))(L),A=a(63),G=a.n(A),z=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={id:null,person:null,activeLink:{},activeNode:{},personalInfo:{},data:{nodes:[],links:[]}},e.giveId=function(){var t=Object(s.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==a){t.next=2;break}return t.abrupt("return");case 2:if(n=parseInt(a),a!=n){t.next=8;break}return t.next=6,e.setState({id:n});case 6:t.next=9;break;case 8:return t.abrupt("return");case 9:e.updateGraph();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.giveNewId=function(){var t=Object(s.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==a){t.next=2;break}return t.abrupt("return");case 2:if(n=parseInt(a),a!=n){t.next=8;break}return t.next=6,e.setState({id:n});case 6:t.next=9;break;case 8:return t.abrupt("return");case 9:e.newGraph();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.newGraph=function(){G.a.get("https://avatar.labpro.dev/friends/"+e.state.id).then((function(t){if(200===t.data.status){var a=t.data.payload;e.setState({activeLink:{}}),e.setState({activeNode:{}}),e.setState({personalInfo:{}}),e.setState({data:{nodes:[],links:[]}});var n=[],r=[],i={id:a.id,name:a.name,element:a.element};n.push(i);for(var o=a.friends.length,c=0;c<o;c++){var l=a.friends[c];n.push(l),r.push({source:i.id,target:l.id})}var s=e.state.activeLink,u=e.state.activeNode,d=e.state.personalInfo,p=e.state.data;o=n.length;for(var m=0;m<o;m++){var v=n[m];u[v.id]||(u[v.id]=!0,d[v.id]=v,p.nodes.push({id:v.id,color:e.getColor(v.element)}))}o=r.length;for(var h=0;h<o;h++){var f=r[h],g=e.linkToString(f);s[g]||(s[g]=!0,p.links.push(f))}e.setState({activeLink:s}),e.setState({activeNode:u}),e.setState({personalInfo:d}),e.setState({data:p})}})).catch((function(e){console.log(e)}))},e.updateGraph=function(){G.a.get("https://avatar.labpro.dev/friends/"+e.state.id).then((function(t){if(200===t.data.status){var a=t.data.payload,n=[],r=[],i={id:a.id,name:a.name,element:a.element};n.push(i);for(var o=a.friends.length,c=0;c<o;c++){var l=a.friends[c];n.push(l),r.push({source:i.id,target:l.id})}var s=e.state.activeLink,u=e.state.activeNode,d=e.state.personalInfo,p=e.state.data;o=n.length;for(var m=0;m<o;m++){var v=n[m];u[v.id]||(u[v.id]=!0,d[v.id]=v,p.nodes.push({id:v.id,color:e.getColor(v.element)}))}o=r.length;for(var h=0;h<o;h++){var f=r[h],g=e.linkToString(f);s[g]||(s[g]=!0,p.links.push(f))}e.setState({activeLink:s}),e.setState({activeNode:u}),e.setState({personalInfo:d}),e.setState({data:p})}})).catch((function(e){console.log(e)}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){document.title="Avatar Suspect Expander"}},{key:"getColor",value:function(e){return"fire"===e?"red":"water"===e?"blue":"air"===e?"#b2f2ec":"yellow"}},{key:"linkToString",value:function(e){return Math.min(e.source,e.target)+" "+Math.max(e.source,e.target)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null),r.a.createElement(E,{giveId:this.giveNewId}),r.a.createElement(M,{giveId:this.giveId,personalInfo:this.state.personalInfo,data:this.state.data}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[100,1,2]]]);
//# sourceMappingURL=main.c6ed5b67.chunk.js.map